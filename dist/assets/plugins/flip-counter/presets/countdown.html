<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <meta name="description" content="Tick">

    <title>Tick</title>

    <!-- preset page, only needed for demo purposes -->
    <link rel="stylesheet" href="./preset.css">
    
    <!-- load tick styles -->
    <link rel="stylesheet" href="./tick.css">
    
</head>
<body>

<!-- start of preset snippet -->

<div>
    
    <style>
        
        body {
            
            background-image:linear-gradient(-45deg, rgba(0, 0, 0, 0), #1f2326 50%), url();
            background-size:cover;
            background-position: center bottom;
            background-color:#1f2326;
            color:#fff;
        }

        .tick-group {
            margin:0 .25em;
        }

        .tick-text {
            margin-bottom:2em;
            font-size:.25em;
            letter-spacing: .125em;
            text-shadow: 0 .325em 0 rgba(255, 255, 255, 0.1), 0 0 .15em currentColor;
        }

        .tick-flip-panel {
            color:#34383b;
            background:#e8ecf0;
        }

        /* start from small screens */

        .tick {
            font-size:1.5em;
        }

        /* define sizes for bigger screens */
        @media (min-width:25em) {

            .tick {
                font-size:2em;
            }

        }

        @media (min-width:35em) {

            .tick {
                font-size:2.75em;
            }

        }

        @media (min-width:45em) {

            .tick {
                font-size:3em;
            }

        }

        @media (min-width:50em) {

            .tick {
                font-size:3.5em;
            }

        }
        
    </style>
    
    <div class="tick"
         data-did-init="handleTickInit">

        <div data-layout="horizontal center"
             data-repeat="true"
             data-transform="
                 rotate(
                    transform(
                      plural(day, days),
                      input()
                    ),
                    transform(
                      plural(hour, hours),
                      input()
                    ),
                    transform(
                      plural(minute, minutes),
                      input()
                    ),
                    transform(
                      plural(second, seconds),
                      input()
                    )
                 ) ->
                 map( keys( label, value ) )">

            <div class="tick-group">

                <div data-key="label"
                     data-view="text"></div>

                <div data-key="value" 
                     data-repeat="true" 
                     data-transform="pad(00) -> split -> delay">
                    <span data-view="flip"></span>
                </div>

            </div>

        </div>

    </div>
    
    <script>
    function handleTickInit(tick) {
        
        var nextYear = ((new Date()).getFullYear() + 1) + '-01-01T00:00:00';
    
        var counter = Tick.count.down(nextYear);
        
        counter.onupdate = function(value) {
            tick.value = value;
        };

    }
    </script>

    

</div>

<!-- end of preset snippet -->

<!-- load tick -->
<script src="./tick.js"></script>

</body>
</html>