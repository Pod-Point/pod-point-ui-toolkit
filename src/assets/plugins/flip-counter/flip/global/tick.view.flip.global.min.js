/*
 * Tick v1.4.0 - Counters Made Easy
 * Copyright (c) 2017 PQINA - http://tickcounterplugin.com
 */
!function(t,e){"use strict";t.Tick||(t.Tick=[]),t.Tick.push(["view","flip",function(){if(!t)var t={};var a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},r=function(){function t(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,a,r){return a&&t(e.prototype,a),r&&t(e,r),e}}(),i=function(){var t=arguments.length>0&&arguments[0]!==e?arguments[0]:API,i=t.DOM,n=(t.Animation.animate,t.Extension),o=t.Date.performance,s=t.View,l=s.rooter,c=s.destroyer,p=s.drawer,f=s.updater,u=s.styler,h=(n.getExtension(n.Type.EASING_FUNCTION,"ease-in-cubic"),n.getExtension(n.Type.EASING_FUNCTION,"ease-out-cubic")),d=n.getExtension(n.Type.EASING_FUNCTION,"ease-out-sine"),k=function(t){if(t.isInitialValue()){t.root.textContent="",t.spacer=i.create("span","tick-flip-spacer"),t.root.appendChild(t.spacer);var e=i.create("span","tick-flip-shadow-top tick-flip-shadow tick-flip-front"),a=i.create("span","tick-flip-shadow-bottom tick-flip-shadow tick-flip-back");t.root.appendChild(e),t.root.appendChild(a),t.shadowCard=i.create("span","tick-flip-card-shadow"),t.root.appendChild(t.shadowCard)}if(t.spacer.textContent=t.value,!t.isInitialValue()&&!i.visible(t.root))return void t.cards.forEach(function(e){e.back=t.value,e.front=t.value});var r=t.cards[t.cards.length-1];if(r&&(r.waiting=!1,r.offset=o(),r.back=t.value),t.isInitialValue()){var s=new v;s.back=t.value,s.offset=null,s.progress=1,t.root.insertBefore(s.root,t.root.firstChild),t.cards.push(s)}var l=new v;if(l.offset=null,l.progress=0,l.visual_progress=0,l.waiting=!0,l.front=t.value,l.rotate(-1),t.root.insertBefore(l.root,t.root.firstChild),t.cards.push(l),!t.animating){t.animating=!0;var c=n.getExtension(n.Type.EASING_FUNCTION,t.style.flipEasing),p=function f(){var e=t.cards.filter(function(t){return!t.done&&!t.waiting});if(0===e.length)return void(t.animating=!1);e.forEach(function(e){null!==e.offset&&(e.progress=(o()-e.offset)/t.style.flipDuration),e.progress>=1&&(e.progress=1,e.done=!0),e.visual_progress=c(e.progress)});var a=.01;e.reverse().forEach(function(t,r){var i=e[r-1];i&&t.visual_progress<=i.visual_progress&&(t.visual_progress=i.visual_progress+a)}),e.reverse(),t.cards.forEach(function(e,a){var r=1-2*Math.abs(e.visual_progress-.5),i=1-(e.visual_progress-.5)/.5;e.shadowFront=r,e.highlightBack=i;var n=t.cards[a+1];n&&e.visual_progress>.5&&e.visual_progress>0&&(e.shadowBack=h(n.visual_progress))}),e.forEach(function(t,e){var a=t.visual_progress;a>.5&&!t.done?t.root.style.zIndex=10+e:t.root.style.removeProperty("z-index"),t.rotate(a*-180)});var r=0,n=1;e.forEach(function(t){var e=Math.abs(t.visual_progress-.5);e<n&&(n=e,r=t.visual_progress)});var s=d(r<.5?r/.5:(1-r)/.5);t.shadowCard.style.opacity=s,i.transform(t.shadowCard,"scaleY",s),t.cards.filter(function(t){return t.done}).slice(0,-1).forEach(function(e){t.cards=t.cards.filter(function(t){return t!==e}),t.root.removeChild(e.root)}),requestAnimationFrame(f)};p()}},v=function(){function t(){a(this,t),this._root=i.create("span","tick-flip-card");var e=i.create("span","tick-flip-panel-front tick-flip-front tick-flip-panel"),r=i.create("span","tick-flip-panel-front-text"),n=i.create("span","tick-flip-panel-text-wrapper");r.appendChild(n);var o=i.create("span","tick-flip-panel-front-shadow");e.appendChild(r),e.appendChild(o);var s=i.create("span","tick-flip-panel-back tick-flip-back tick-flip-panel"),l=i.create("span","tick-flip-panel-back-text"),c=i.create("span","tick-flip-panel-text-wrapper");l.appendChild(c);var p=i.create("span","tick-flip-panel-back-highlight"),f=i.create("span","tick-flip-panel-back-shadow");s.appendChild(l),s.appendChild(p),s.appendChild(f),this._root.appendChild(e),this._root.appendChild(s),this._front=e,this._back=s,this._shadowFront=o,this._shadowBack=f,this._highlightBack=p,this._textBack=c,this._textFront=n,this._frontValue=null,this._backValue=null}return r(t,[{key:"rotate",value:function(t){this._front.style.transform="rotateX("+t+"deg)",this._back.style.transform="rotateX("+(-180+t)+"deg)"}},{key:"root",get:function(){return this._root}},{key:"front",set:function(t){this._frontValue=t,this._textFront.textContent=t},get:function(){return this._frontValue}},{key:"back",set:function(t){this._backValue=t,this._textBack.textContent=t},get:function(){return this._backValue}},{key:"highlightBack",set:function(t){this._highlightBack.style.opacity=t}},{key:"shadowBack",set:function(t){this._shadowBack.style.opacity=t}},{key:"shadowFront",set:function(t){this._shadowFront.style.opacity=t}}]),t}();return function(t){var e={cards:[],lastCard:null,initialCard:null,shadowAbove:null,shadowBelow:null,shadowCard:null,currentValue:null,lastValue:null,front:null,back:null};return p(e,k),Object.assign({},l(e,t,"flip"),f(e),u(e,{flipDuration:800,flipEasing:"ease-out-bounce"}),c(e))}};return t.exports=i,t.exports.identifier={name:"flip",type:"view"},t.exports}()])}(window);