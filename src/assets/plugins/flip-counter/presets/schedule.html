<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <meta name="description" content="Tick">

    <title>Tick</title>

    <!-- preset page, only needed for demo purposes -->
    <link rel="stylesheet" href="./preset.css">
    
    <!-- load tick styles -->
    <link rel="stylesheet" href="./tick.css">
    
</head>
<body>

<!-- start of preset snippet -->

<div>
    
    <style>
        
        body {
            background:#e39bc0;
            color:#332c2f;
        }

        .tick {
            font-size:5em;
        }

        .tick-group {
            min-width: 2.5em;
            text-align: center;
            display:flex;
            flex-direction:column;
            align-items:center;
        }

        .tick-text {
            margin-top:.5em;
            font-size:.25em;
        }
        
    </style>
    
    <div class="tick"
         data-did-init="handleTickInit">

        <div data-layout="horizontal center"
             data-repeat="true"
             data-transform="
                 rotate(
                    transform(
                      plural(minute, minutes),
                      input()
                    ),
                    transform(
                      plural(second, seconds),
                      input() -> pad(00)
                    )
                 ) ->
                 map( keys( label, value ) )">

            <div class="tick-group">

                <div data-key="value"
                     data-view="flip"></div>

                <div data-key="label"
                     data-view="text"></div>

            </div>

        </div>

    </div>
    
    <script>
    function handleTickInit(tick) {
        
        var counter = Tick.count.schedule('every 5 minutes', {
            format:['m','s']
        });
        
        counter.onupdate = function(value) {
            tick.value = value;
        };

    }
    </script>

    

</div>

<!-- end of preset snippet -->

<!-- load tick -->
<script src="./tick.js"></script>

</body>
</html>